(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-088cadb9"],{"012a":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o={class:"components-container menu-settings-box"},a={class:"card-header"},c={class:"block"},l={class:"custom-tree-node"},u=["onClick"],i=["onClick"],d={class:"menu-set-btn",style:{color:"#f56c6c"},type:"text"};function s(e,t,n,s,m,f){var p=this,b=Object(r["resolveComponent"])("el-button"),O=Object(r["resolveComponent"])("el-popconfirm"),j=Object(r["resolveComponent"])("el-tree"),g=Object(r["resolveComponent"])("el-card"),h=Object(r["resolveComponent"])("edit");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[Object(r["createVNode"])(g,{class:"menu-card"},{header:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",a,[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.$t("menuSettings.title")),1),Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("a",{style:{"font-size":"13px","margin-right":"30px",color:"#999",cursor:"pointer"},onClick:t[0]||(t[0]=function(){return s.consoleData&&s.consoleData.apply(s,arguments)})},Object(r["toDisplayString"])(e.$t("menuSettings.viewMenuData")),1),Object(r["createVNode"])(b,{class:"button",size:"medium",type:"text",onClick:t[1]||(t[1]=function(t){return s.append(e.$t("menuSettings.addMenu"),null,"add")})},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$t("menuSettings.addMenu")),1)]})),_:1})])])]})),default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",c,[Object(r["createVNode"])(j,{ref:"tree","check-strictly":!1,data:e.treeData,"show-checkbox":!1,props:e.defaultProps,"node-key":"id","default-expand-all":!0,"expand-on-click-node":!1},{default:Object(r["withCtx"])((function(t){t.node;var n=t.data;return[Object(r["createElementVNode"])("span",l,[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(s.generateRouterTitle(n.meta)),1),Object(r["createElementVNode"])("span",null,[Object(r["createElementVNode"])("a",{class:"menu-set-btn",onClick:function(t){return s.append(e.$t("menuSettings.addChildMenu"),n.id,"addNested")},style:{color:"#68c23a"},type:"text"},Object(r["toDisplayString"])(e.$t("menuSettings.add")),9,u),Object(r["createElementVNode"])("a",{class:"menu-set-btn",onClick:function(t){return s.editOpen(e.$t("menuSettings.edit"),n.id,"edit")},type:"text"},Object(r["toDisplayString"])(e.$t("menuSettings.edit")),9,i),Object(r["createVNode"])(O,{"confirm-button-text":p.$t("system.ok"),"cancel-button-text":p.$t("system.cancel"),icon:"el-icon-info","icon-color":"red",title:p.$t("system.deleteMsg"),onConfirm:function(e){return s.remove(n.id)}},{reference:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("a",d,Object(r["toDisplayString"])(e.$t("menuSettings.del")),1)]})),_:2},1032,["confirm-button-text","cancel-button-text","title","onConfirm"])])])]})),_:1},8,["data","props"])])]})),_:1}),Object(r["createVNode"])(h,{onAddMenu:s.addMenuData,onUpdateMenu:s.updateMenuData,ref:"editChildComponent"},null,8,["onAddMenu","onUpdateMenu"])])}var m=n("b85c"),f=n("5530"),p=(n("caad"),n("df7c")),b=n.n(p),O=(n("b0c0"),{class:"tip"}),j={class:"tip"},g={class:"tip"},h={class:"tip"};function V(e,t,n,o,a,c){var l=Object(r["resolveComponent"])("el-switch"),u=Object(r["resolveComponent"])("el-form-item"),i=Object(r["resolveComponent"])("el-input"),d=Object(r["resolveComponent"])("el-input-number"),s=Object(r["resolveComponent"])("el-form"),m=Object(r["resolveComponent"])("editDrawer");return Object(r["openBlock"])(),Object(r["createBlock"])(m,{drawer:e.drawer,size:500,title:o.drawerTitle,loading:e.loading,close:o.closeDrawer,confirm:o.confirm},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{ref:"ruleFormRef",model:e.ruleForm,rules:o.rules,"label-width":"105px",class:"demo-ruleForm"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{label:e.$t("menuSettings.nested"),prop:"nested"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{modelValue:e.ruleForm.nested,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.ruleForm.nested=t})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createElementVNode"])("p",O,Object(r["toDisplayString"])(e.$t("menuSettings.tip")),1),Object(r["createVNode"])(u,{label:e.$t("menuSettings.path"),prop:"path"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{modelValue:e.ruleForm.path,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.ruleForm.path=t})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(u,{label:e.$t("menuSettings.component"),prop:"component"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{modelValue:e.ruleForm.component,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.ruleForm.component=t})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createElementVNode"])("p",j,Object(r["toDisplayString"])(e.$t("menuSettings.addSingleMenuMsg")),1),Object(r["createVNode"])(u,{label:e.$t("menuSettings.redirect"),prop:"redirect"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{modelValue:e.ruleForm.redirect,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.ruleForm.redirect=t})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(u,{label:e.$t("menuSettings.name"),prop:"name"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{modelValue:e.ruleForm.name,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.ruleForm.name=t})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(u,{label:e.$t("menuSettings.routeTitle"),prop:"title"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{modelValue:e.ruleForm.title,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.ruleForm.title=t})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(u,{label:e.$t("menuSettings.enTitle"),prop:"en_title"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{modelValue:e.ruleForm.en_title,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.ruleForm.en_title=t})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(u,{label:e.$t("menuSettings.icon"),prop:"icon"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{modelValue:e.ruleForm.icon,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.ruleForm.icon=t})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createElementVNode"])("p",g,Object(r["toDisplayString"])(e.$t("menuSettings.orderNumberTip")),1),Object(r["createVNode"])(u,{label:e.$t("menuSettings.orderNumber"),prop:"order_number"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{modelValue:e.ruleForm.order_number,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.ruleForm.order_number=t})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(u,{label:e.$t("menuSettings.affix"),prop:"affix"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{modelValue:e.ruleForm.affix,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.ruleForm.affix=t})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createElementVNode"])("p",h,Object(r["toDisplayString"])(e.$t("menuSettings.keepTip")),1),Object(r["createVNode"])(u,{label:e.$t("menuSettings.keep"),prop:"keep"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{modelValue:e.ruleForm.keep,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.ruleForm.keep=t})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(u,{label:e.$t("menuSettings.hidden"),prop:"hidden"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{modelValue:e.ruleForm.hidden,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.ruleForm.hidden=t})},null,8,["modelValue"])]})),_:1},8,["label"])]})),_:1},8,["model","rules"])]})),_:1},8,["drawer","title","loading","close","confirm"])}var v=n("9091"),N=n("0251"),S=n("3ef4"),w=n("5502"),C={name:"edit-drawer",components:{editDrawer:v["a"]},emits:["addMenu","updateMenu"],setup:function(e,t){var n=Object(N["useI18n"])(),o=Object(w["b"])(),a=Object(r["reactive"])({drawer:!1,addMenuTitle:"Title",id:null,loading:!1,type:"",ruleForm:{path:"",component:"",redirect:"",nested:!1,name:"",title:"",en_title:"",affix:!1,order_number:0,icon:"",keep:!1,hidden:!1}}),c=Object(r["computed"])((function(){return a.addMenuTitle})),l=Object(r["ref"])(null),u=Object(r["computed"])((function(){return{path:[{required:!0,message:n.t("menuSettings.rules"),trigger:"blur"}],component:[{required:!0,message:n.t("menuSettings.rules"),trigger:"blur"}],title:[{required:!0,message:n.t("menuSettings.rules"),trigger:"blur"}],en_title:[{required:!0,message:n.t("menuSettings.rules"),trigger:"blur"}],redirect:[{required:!1,message:n.t("menuSettings.rules"),trigger:"blur"}],icon:[{required:!1,message:n.t("menuSettings.rules"),trigger:"blur"}],name:[{required:!0,message:n.t("menuSettings.rules"),trigger:"blur"}]}}));Object(r["watch"])((function(){return o.state.app.locale}),(function(){null!==l.value&&Object(r["nextTick"])((function(){l.value.clearValidate()}))}));var i=function(e,t,n){a.addMenuTitle=e,a.id=t,a.type=n,a.drawer=!0},d=function(e,t,n,o){i(e,t,n);var c=JSON.parse(JSON.stringify(o));Object(r["nextTick"])((function(){for(var e in a.ruleForm)a.ruleForm[e]=c[e]}))},s=function(){a.id=null,a.type="",a.loading=!1,l.value.resetFields(),a.drawer=!1},m=Object(r["computed"])((function(){return n.t("system.misParams")})),p=function(){l.value.validate((function(e){if(!e)return!1;a.loading=!0;var n=JSON.parse(JSON.stringify(a.ruleForm));if(""===a.type)return S["a"].warning(m.value),void(a.loading=!1);"add"===a.type?t.emit("addMenu",n):"addNested"===a.type?(n.parent_id=a.id,t.emit("addMenu",n)):"edit"===a.type&&(n.id=a.id,t.emit("updateMenu",n))}))};return Object(f["a"])(Object(f["a"])({},Object(r["toRefs"])(a)),{},{drawerTitle:c,rules:u,ruleFormRef:l,closeDrawer:s,confirm:p,open:i,openEditValue:d})}},y=(n("ad53"),n("d959")),x=n.n(y);const _=x()(C,[["render",V],["__scopeId","data-v-26b97cbe"]]);var F=_,k=n("365c"),E=n("2295"),M=n("2ec6"),D={name:"menu-settings",components:{edit:F},setup:function(){var e=Object(w["b"])(),t=Object(N["useI18n"])(),n=Object(r["reactive"])({treeData:[],defaultProps:{children:"children",label:"title"}}),o=function(){k["a"].user.getMenuList().then((function(e){var t=Object(M["a"])(e.data.data);n.treeData=h(t)}))},a=Object(r["ref"])(null),c=Object(r["inject"])("generateRouterTitle"),l=function(e,t,n){p(e,t,n)},u=function(e,t,n){k["a"].user.getSingleMenu({id:t}).then((function(r){200===r.data.code&&a.value.openEditValue(e,t,n,O(r.data.data))}))},i=function(e){var t=j(e);k["a"].user.addMenuRouter(t).then((function(e){console.log(e.data),200===e.data.code&&(S["a"].success(e.data.msg),a.value.closeDrawer(),o())})).catch((function(e){a.value.loading=!1}))},d=function(e){var t=j(e);k["a"].user.updateMenuRouter(t).then((function(e){200===e.data.code&&(a.value.closeDrawer(),S["a"].success(e.data.msg),o())})).catch((function(e){a.value.loading=!1}))},s=function(e){k["a"].user.deleteMenuRouter({id:e}).then((function(e){200===e.data.code&&(S["a"].success(e.data.msg),o())}))},p=function(e,t,n){a.value.open(e,t,n)},O=function(e){var t=["keep","affix","hidden","icon","nested"];for(var n in e)t.includes(n)&&(0===e[n]?e[n]=!1:1===e[n]&&(e[n]=!0));return e},j=function(e){var t=["keep","affix","nested","hidden"];for(var n in e)t.includes(n)&&(e[n]?e[n]=1:e[n]=0);return e},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=null,r=e;if(void 0!==t.nested&&!t.nested){if(n=r[0],void 0===n)return;return n.path=b.a.resolve(t.path,n.path),n.id=t.id,n.parent_id=t.parent_id,n}return 0===r.length&&(n=Object(f["a"])(Object(f["a"])({},t),{},{path:"",noShowingChildren:!0}),n)},h=function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",o=[],a=Object(m["a"])(t);try{for(a.s();!(n=a.n()).done;){var c=n.value,l=g(c.children,c);c.children&&l&&(c=l);var u={path:b.a.resolve(r,c.path),meta:c.meta,id:c.id,parent_id:c.parent_id};c.children&&(u.children=e(c.children,u.path)),o.push(u)}}catch(i){a.e(i)}finally{a.f()}return o},V=Object(r["computed"])((function(){return t.t("system.notification")})),v=Object(r["computed"])((function(){return t.t("system.consoleData")})),C=function(){console.log("参考格式:",e.state.user.menuRoute),Object(E["a"])({title:V.value,type:"success",message:v.value})};return Object(r["onMounted"])((function(){o()})),Object(f["a"])(Object(f["a"])({},Object(r["toRefs"])(n)),{},{append:l,remove:s,onlyOneShowingChild:g,generateRoutes:h,filterRouterFormat:M["a"],generateRouterTitle:c,editChildComponent:a,openDrawer:p,addMenuData:i,updateMenuData:d,numChangeBool:O,boolChangeInt:j,editOpen:u,consoleData:C})}};n("245c"),n("5291");const $=x()(D,[["render",s],["__scopeId","data-v-05ebb83e"]]);t["default"]=$},"02ef":function(e,t,n){},"245c":function(e,t,n){"use strict";n("02ef")},"34e7":function(e,t,n){},"4e6c":function(e,t,n){},5291:function(e,t,n){"use strict";n("f710")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),o=n("577e"),a=n("5899"),c="["+a+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),i=function(e){return function(t){var n=o(r(t));return 1&e&&(n=n.replace(l,"")),2&e&&(n=n.replace(u,"")),n}};e.exports={start:i(1),end:i(2),trim:i(3)}},7156:function(e,t,n){var r=n("1626"),o=n("861d"),a=n("d2bb");e.exports=function(e,t,n){var c,l;return a&&r(c=t.constructor)&&c!==n&&o(l=c.prototype)&&l!==n.prototype&&a(e,l),e}},9091:function(e,t,n){"use strict";var r=n("7a23"),o={class:"drawer-footer"};function a(e,t,n,a,c,l){var u=Object(r["resolveComponent"])("el-button"),i=Object(r["resolveComponent"])("el-drawer");return Object(r["openBlock"])(),Object(r["createBlock"])(i,{modelValue:n.drawer,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.drawer=e}),"destroy-on-close":!0,"with-header":n.withHeader,title:n.title,"close-on-click-modal":!0,direction:n.direction,"before-close":n.close,size:n.size,"modal-class":"edit-drawer"},{default:Object(r["withCtx"])((function(){return[Object(r["renderSlot"])(e.$slots,"default",{},void 0,!0),Object(r["createElementVNode"])("div",o,[Object(r["createVNode"])(u,{onClick:n.close},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$t("menuSettings.cancel")),1)]})),_:1},8,["onClick"]),Object(r["createVNode"])(u,{loading:n.loading,onClick:n.confirm,type:"primary"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$t("menuSettings.confirm")),1)]})),_:1},8,["loading","onClick"])])]})),_:3},8,["modelValue","with-header","title","direction","before-close","size"])}n("a9e3");var c={name:"index",props:{drawer:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},title:{type:String,default:"title"},size:{type:Number||String,default:400},withHeader:{type:Boolean,default:!0},direction:{type:String,default:"rtl"},close:{type:Function,default:function(){}},confirm:{type:Function,default:function(){}}},setup:function(e,t){return{}}},l=(n("c7ee"),n("c5cd"),n("d959")),u=n.n(l);const i=u()(c,[["render",a],["__scopeId","data-v-19475e96"]]);t["a"]=i},a9e3:function(e,t,n){"use strict";var r=n("83ab"),o=n("da84"),a=n("94ca"),c=n("6eeb"),l=n("5135"),u=n("c6b6"),i=n("7156"),d=n("d9b5"),s=n("c04e"),m=n("d039"),f=n("7c73"),p=n("241c").f,b=n("06cf").f,O=n("9bf2").f,j=n("58a8").trim,g="Number",h=o[g],V=h.prototype,v=u(f(V))==g,N=function(e){if(d(e))throw TypeError("Cannot convert a Symbol value to a number");var t,n,r,o,a,c,l,u,i=s(e,"number");if("string"==typeof i&&i.length>2)if(i=j(i),t=i.charCodeAt(0),43===t||45===t){if(n=i.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(i.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+i}for(a=i.slice(2),c=a.length,l=0;l<c;l++)if(u=a.charCodeAt(l),u<48||u>o)return NaN;return parseInt(a,r)}return+i};if(a(g,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var S,w=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof w&&(v?m((function(){V.valueOf.call(n)})):u(n)!=g)?i(new h(N(t)),n,w):N(t)},C=r?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),y=0;C.length>y;y++)l(h,S=C[y])&&!l(w,S)&&O(w,S,b(h,S));w.prototype=V,V.constructor=w,c(o,g,w)}},ad53:function(e,t,n){"use strict";n("4e6c")},c5cd:function(e,t,n){"use strict";n("34e7")},c7ee:function(e,t,n){"use strict";n("df69")},df69:function(e,t,n){},f710:function(e,t,n){}}]);